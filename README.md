# PentestingLab

PentestingLab is a lab environment for Active Directory intended for security assesment and penetration testing practice.
This is achieved through automated deployment using AutomatedLab.

## Installation

### 1. Install AutomatedLab

```
PS C:\> Install-PackageProvider Nuget -Force
PS C:\> Install-Module AutomatedLab -SkipPublisherCheck -AllowClobber
PS C:\> Install-Module -Name Pester -Force
PS C:\> New-LabSourcesFolder -DriveLetter D
PS C:\> Get-LabAvailableOperatingSystem -Path D:\LabSources
```

### 2. Download ISOs

Download the Windows iso image to the LabSources folder.

- Windows Server 2022
- Windows 10
- Windows 11

### 3. Install PentestingLab

```
PS C:\> Install-PentestingLab.ps1
PS C:\> Stop-LabVM -All
PS C:\> Checkpoint-LabVM -All -SnapshotName InitialSetup
```

## Internet Access

If you are building a lab environment with access to the Internet, you will need to manually build a proxy server using [this document](docs/Ubuntu24-PX01.md) as a reference.
After building the proxy server, install the lab with the -EnableInternet option enabled.

```
PS C:\> Install-PentestingLab.ps1 -EnableInternet
```

After installing the lab, add a network adapter to the proxy server and attach PentestingLab to the virtual switch.
